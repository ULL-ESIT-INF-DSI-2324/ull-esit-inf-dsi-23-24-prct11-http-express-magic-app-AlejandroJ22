<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>p09-filesystem-magic-app</title><meta name="description" content="Documentation for p09-filesystem-magic-app"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">p09-filesystem-magic-app</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>p09-filesystem-magic-app</h2></div><div class="tsd-panel tsd-typography"><p><a href="https://classroom.github.com/a/sNC2m9MU"><img src="https://classroom.github.com/assets/deadline-readme-button-24ddc0f5d75046c5622901739e7c5dd533143b0c8e959d652212380cedb1ea36.svg" alt="Review Assignment Due Date"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct11-http-express-magic-app-AlejandroJ22/actions/workflows/coveralls.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct11-http-express-magic-app-AlejandroJ22/actions/workflows/coveralls.yml/badge.svg" alt="Coveralls"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct11-http-express-magic-app-AlejandroJ22/actions/workflows/build.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct11-http-express-magic-app-AlejandroJ22/actions/workflows/build.yml/badge.svg" alt="Sonar-Cloud"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct11-http-express-magic-app-AlejandroJ22/actions/workflows/node.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct11-http-express-magic-app-AlejandroJ22/actions/workflows/node.js.yml/badge.svg" alt="Tests"></a></p>
<a id="md:informe-práctica-11---aplicación-express-para-coleccionistas-de-cartas-magic" class="tsd-anchor"></a><h1><a href="#md:informe-práctica-11---aplicación-express-para-coleccionistas-de-cartas-magic">Informe práctica 11 - Aplicación Express para coleccionistas de cartas Magic.</a></h1><p><img src="images/express.png" alt="Imagen ServerExpress"></p>
<a id="md:alejandro-javier-aguiar-pérez" class="tsd-anchor"></a><h2><a href="#md:alejandro-javier-aguiar-pérez">Alejandro Javier Aguiar Pérez</a></h2><blockquote>
<p><a href="mailto:alu0101487168@ull.edu.es">alu0101487168@ull.edu.es</a></p>
</blockquote>
<a id="md:índice" class="tsd-anchor"></a><h2><a href="#md:índice">Índice</a></h2><ol>
<li><a href="#md:resumen">Resumen</a></li>
<li><a href="#md:express">Express</a></li>
<li><a href="#md:thunder-client">Thunder Client</a></li>
<li><a href="#md:servidor">Servidor</a></li>
<li><a href="#md:magic-app">Magic App</a><ul>
<li><a href="#md:clase-card">Clase Card</a></li>
<li><a href="#md:clase-cardcollection">Clase CardCollection</a></li>
</ul>
</li>
<li><a href="#md:problemas">Problemas</a></li>
<li><a href="#md:ejercicio-pe">Ejercicio PE</a></li>
<li><a href="#md:referencias">Referencias</a></li>
</ol>
<a id="md:resumen" class="tsd-anchor"></a><h2><a href="#md:resumen">Resumen</a></h2><p>En esta práctica, implementamos un servidor HTTP con Express para gestionar una colección de cartas de Magic: The Gathering. Los usuarios pueden realizar operaciones CRUD (Crear, Leer, Actualizar, Eliminar) en sus colecciones de cartas a través de peticiones HTTP utilizando métodos como POST, GET, PATCH y DELETE. El servidor almacena la información de las cartas en archivos JSON en el sistema de archivos, siguiendo la estructura de directorios por usuario establecida en prácticas anteriores.</p>
<p>Para implementar la funcionalidad requerida, creamos un servidor Express con rutas definidas en la ruta /cards para gestionar las operaciones sobre las cartas. Utilizamos los verbos HTTP adecuados (POST, GET, PATCH, DELETE) para cada operación, y cada petición lleva a cabo las acciones correspondientes en la colección de cartas del usuario.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:express" class="tsd-anchor"></a><h2><a href="#md:express">Express</a></h2><p>Express es un marco de aplicación web para Node.js que simplifica el desarrollo de aplicaciones web y APIs. Ofrece una estructura mínima pero poderosa, con características como enrutamiento, middleware para manejar solicitudes y respuestas, integración con motores de plantillas, y soporte para middleware de terceros. Express permite a los desarrolladores crear aplicaciones web de manera rápida y eficiente, proporcionando flexibilidad y un alto rendimiento.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:thunder-client" class="tsd-anchor"></a><h2><a href="#md:thunder-client">Thunder Client</a></h2><p>Thunder Client es una extensión para Visual Studio Code que proporciona un cliente HTTP integrado para realizar solicitudes HTTP y API testing directamente desde el editor. Permite a los desarrolladores enviar solicitudes HTTP GET, POST, PUT, DELETE, PATCH y OPTIONS, así como configurar encabezados personalizados, parámetros de consulta y cuerpo de solicitud. Además, ofrece características como autocompletado de URL, historial de solicitudes, guardar y cargar solicitudes, y compartir solicitudes a través de archivos JSON.</p>
<p>En el contexto del trabajo de implementar un servidor Express para una aplicación de coleccionistas de cartas, Thunder Client puede ser una herramienta útil para probar y depurar las rutas y controladores del servidor. Los desarrolladores pueden usar Thunder Client para enviar solicitudes HTTP a las rutas definidas en el servidor Express y verificar si las respuestas son las esperadas. Esto facilita el proceso de desarrollo al permitir una rápida iteración y depuración de la funcionalidad del servidor. Además, al utilizar Thunder Client, los desarrolladores pueden guardar las solicitudes de prueba relevantes y compartirlas con otros miembros del equipo para facilitar la colaboración y el trabajo conjunto en el proyecto.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:servidor" class="tsd-anchor"></a><h2><a href="#md:servidor">Servidor</a></h2><p>Se implementa un servidor HTTP utilizando Express para gestionar una colección de cartas Magic. Este servidor permite realizar diversas operaciones, como agregar, modificar, eliminar, listar y mostrar cartas de un usuario específico. Además, utiliza una clase serverResponse para modelar las respuestas del servidor al cliente de manera estructurada.</p>
<p>Las características notables del código del servidor son las siguientes:</p>
<ol>
<li>Uso de Express: el código comienza importando Express y creando una instancia del servidor utilizando express().</li>
<li>Middleware express.json(): se utiliza express.json() como middleware para analizar el cuerpo de las solicitudes entrantes en formato JSON. Esto facilita el manejo de los datos enviados desde el cliente en el cuerpo de la solicitud.</li>
<li>Manejo de rutas y solicitudes HTTP: se definen múltiples rutas utilizando los métodos HTTP GET, POST, PATCH y DELETE para manejar diferentes tipos de operaciones en la colección de cartas.</li>
</ol>
<ul>
<li>GET</li>
</ul>
<pre><code class="language-ts"><span class="hl-0">server</span><span class="hl-1">.</span><span class="hl-2">get</span><span class="hl-1">(</span><span class="hl-3">&quot;/cards&quot;</span><span class="hl-1">, (</span><span class="hl-0">req</span><span class="hl-1">, </span><span class="hl-0">res</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">&quot;Error: No se ha definido un usuario.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">400</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">userId</span><span class="hl-1"> = </span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">cardId</span><span class="hl-1"> = </span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> ? </span><span class="hl-2">parseInt</span><span class="hl-1">(</span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-8">string</span><span class="hl-1">) : </span><span class="hl-4">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">collection</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">CardCollection</span><span class="hl-1">(</span><span class="hl-0">userId</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">cardId</span><span class="hl-1"> !== </span><span class="hl-4">undefined</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">collection</span><br/><span class="hl-1">          .</span><span class="hl-2">showCardInfo</span><span class="hl-1">(</span><span class="hl-0">cardId</span><span class="hl-1">)</span><br/><span class="hl-1">          .</span><span class="hl-2">then</span><span class="hl-1">((</span><span class="hl-0">cardInfo</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">, </span><span class="hl-0">cardInfo</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">          })</span><br/><span class="hl-1">          .</span><span class="hl-2">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><br/><span class="hl-1">              </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-4">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-0">error</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1">,</span><br/><span class="hl-1">            );</span><br/><span class="hl-1">            </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">400</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">      } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">collection</span><br/><span class="hl-1">          .</span><span class="hl-2">listCards</span><span class="hl-1">()</span><br/><span class="hl-1">          .</span><span class="hl-2">then</span><span class="hl-1">((</span><span class="hl-0">cardList</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">, </span><span class="hl-0">cardList</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">          })</span><br/><span class="hl-1">          .</span><span class="hl-2">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><br/><span class="hl-1">              </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-4">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-0">error</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1">,</span><br/><span class="hl-1">            );</span><br/><span class="hl-1">            </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">400</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-0">error</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;Error: no se ha podido iniciar la colección de cartas.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">      </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">500</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<ul>
<li>POST</li>
</ul>
<pre><code class="language-ts"><span class="hl-0">server</span><span class="hl-1">.</span><span class="hl-2">post</span><span class="hl-1">(</span><span class="hl-3">&quot;/cards&quot;</span><span class="hl-1">, (</span><span class="hl-0">req</span><span class="hl-1">, </span><span class="hl-0">res</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">&quot;No se ha definido un usuario.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">400</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">userId</span><span class="hl-1"> = </span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">collection</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">CardCollection</span><span class="hl-1">(</span><span class="hl-0">userId</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">newCardData</span><span class="hl-1"> = </span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">body</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">newCard</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">Card</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-0">newCardData</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">newCardData</span><span class="hl-1">.</span><span class="hl-0">name</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">newCardData</span><span class="hl-1">.</span><span class="hl-0">mana</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">newCardData</span><span class="hl-1">.</span><span class="hl-0">cardColor</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">newCardData</span><span class="hl-1">.</span><span class="hl-0">cardType</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">newCardData</span><span class="hl-1">.</span><span class="hl-0">cardRarity</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">newCardData</span><span class="hl-1">.</span><span class="hl-0">rules</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">newCardData</span><span class="hl-1">.</span><span class="hl-0">powerAndResistance</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">newCardData</span><span class="hl-1">.</span><span class="hl-0">loyalty</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">newCardData</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">,</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><span class="hl-0">collection</span><br/><span class="hl-1">      .</span><span class="hl-2">addCard</span><span class="hl-1">(</span><span class="hl-0">newCard</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-2">then</span><span class="hl-1">((</span><span class="hl-0">message</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">, </span><span class="hl-0">message</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">200</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">      .</span><span class="hl-2">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><span class="hl-4">false</span><span class="hl-1">, </span><span class="hl-4">undefined</span><span class="hl-1">, </span><span class="hl-0">error</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">400</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<ul>
<li>PATCH</li>
</ul>
<pre><code class="language-ts"><span class="hl-0">server</span><span class="hl-1">.</span><span class="hl-2">patch</span><span class="hl-1">(</span><span class="hl-3">&quot;/cards&quot;</span><span class="hl-1">, (</span><span class="hl-0">req</span><span class="hl-1">, </span><span class="hl-0">res</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">// console.log(&quot;PATCH request received&quot;);</span><br/><span class="hl-1">  </span><span class="hl-9">// console.log(&quot;Request body:&quot;, req.body);</span><br/><span class="hl-1">  </span><span class="hl-9">// console.log(&quot;Request query:&quot;, req.query);</span><br/><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1"> || !</span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">&quot;Se requiere un usuario y un ID de carta para modificarla.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">400</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">userId</span><span class="hl-1"> = </span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">cardId</span><span class="hl-1"> = </span><span class="hl-2">parseInt</span><span class="hl-1">(</span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-8">string</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">modifiedCardData</span><span class="hl-1"> = </span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">body</span><span class="hl-1">; </span><span class="hl-9">// Aquí ya tenemos acceso directo al cuerpo de la solicitud analizado como JSON</span><br/><br/><span class="hl-1">    </span><span class="hl-9">// console.log(&quot;User:&quot;, userId);</span><br/><span class="hl-1">    </span><span class="hl-9">// console.log(&quot;Card ID:&quot;, cardId);</span><br/><span class="hl-1">    </span><span class="hl-9">// console.log(&quot;Modified card data:&quot;, modifiedCardData);</span><br/><br/><span class="hl-1">    </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">collection</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">CardCollection</span><span class="hl-1">(</span><span class="hl-0">userId</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">modifiedCard</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">Card</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">cardId</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">modifiedCardData</span><span class="hl-1">.</span><span class="hl-0">name</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">modifiedCardData</span><span class="hl-1">.</span><span class="hl-0">mana</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">modifiedCardData</span><span class="hl-1">.</span><span class="hl-0">cardColor</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">modifiedCardData</span><span class="hl-1">.</span><span class="hl-0">cardType</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">modifiedCardData</span><span class="hl-1">.</span><span class="hl-0">cardRarity</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">modifiedCardData</span><span class="hl-1">.</span><span class="hl-0">rules</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">modifiedCardData</span><span class="hl-1">.</span><span class="hl-0">powerAndResistance</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">modifiedCardData</span><span class="hl-1">.</span><span class="hl-0">loyalty</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">modifiedCardData</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">,</span><br/><span class="hl-1">      );</span><br/><br/><span class="hl-1">      </span><span class="hl-0">collection</span><br/><span class="hl-1">        .</span><span class="hl-2">updateCard</span><span class="hl-1">(</span><span class="hl-0">modifiedCard</span><span class="hl-1">)</span><br/><span class="hl-1">        .</span><span class="hl-2">then</span><span class="hl-1">((</span><span class="hl-0">message</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-9">// console.log(&quot;Update successful:&quot;, message);</span><br/><span class="hl-1">          </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">, </span><span class="hl-0">message</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">200</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">        .</span><span class="hl-2">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-9">// console.error(&quot;Update error:&quot;, error);</span><br/><span class="hl-1">          </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><span class="hl-4">false</span><span class="hl-1">, </span><span class="hl-4">undefined</span><span class="hl-1">, </span><span class="hl-0">error</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">400</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">    } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-0">error</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-9">// console.error(&quot;Collection initialization error:&quot;, error);</span><br/><span class="hl-1">      </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;Error: no se ha podido iniciar la colección de cartas.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">      </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">500</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<pre><code class="language-ts"><span class="hl-0">server</span><span class="hl-1">.</span><span class="hl-2">delete</span><span class="hl-1">(</span><span class="hl-3">&quot;/cards&quot;</span><span class="hl-1">, (</span><span class="hl-0">req</span><span class="hl-1">, </span><span class="hl-0">res</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">// console.log(&quot;DELETE request received&quot;);</span><br/><span class="hl-1">  </span><span class="hl-9">// console.log(&quot;Request query:&quot;, req.query);</span><br/><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1"> || !</span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">&quot;Se requiere un usuario y un ID de carta para eliminarla.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">400</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">userId</span><span class="hl-1"> = </span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">cardId</span><span class="hl-1"> = </span><span class="hl-2">parseInt</span><span class="hl-1">(</span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-8">string</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-9">// console.log(&quot;User:&quot;, userId);</span><br/><span class="hl-1">    </span><span class="hl-9">// console.log(&quot;Card ID:&quot;, cardId);</span><br/><br/><span class="hl-1">    </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">collection</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">CardCollection</span><span class="hl-1">(</span><span class="hl-0">userId</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">collection</span><br/><span class="hl-1">        .</span><span class="hl-2">removeCard</span><span class="hl-1">(</span><span class="hl-0">cardId</span><span class="hl-1">)</span><br/><span class="hl-1">        .</span><span class="hl-2">then</span><span class="hl-1">((</span><span class="hl-0">message</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-9">// console.log(&quot;Deletion successful:&quot;, message);</span><br/><span class="hl-1">          </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">, </span><span class="hl-0">message</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">200</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">        .</span><span class="hl-2">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-9">// console.error(&quot;Deletion error:&quot;, error);</span><br/><span class="hl-1">          </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><span class="hl-4">false</span><span class="hl-1">, </span><span class="hl-4">undefined</span><span class="hl-1">, </span><span class="hl-0">error</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">400</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">    } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-0">error</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-9">// console.error(&quot;Collection initialization error:&quot;, error);</span><br/><span class="hl-1">      </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">serverResponse</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;Error: no se ha podido iniciar la colección de cartas.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">      </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">(</span><span class="hl-7">500</span><span class="hl-1">).</span><span class="hl-2">json</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<ol start="4">
<li><p>Validación de parámetros de consulta: Antes de realizar cualquier operación, se valida la presencia de los parámetros de consulta necesarios. Por ejemplo, en la ruta GET /cards, se verifica si se ha definido un usuario.</p>
</li>
<li><p>Modelado de respuestas del servidor: Se define una clase serverResponse para modelar las respuestas del servidor al cliente. Esto ayuda a estructurar las respuestas de manera consistente y proporciona información sobre el éxito o fracaso de la operación, junto con mensajes opcionales.</p>
</li>
</ol>
<pre><code class="language-ts"><span class="hl-9">/**</span><br/><span class="hl-9"> * Clase que representa una respuesta del servidor al cliente.</span><br/><span class="hl-9"> */</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">serverResponse</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">/**</span><br/><span class="hl-9">   * Indica si la operación fue exitosa o no.</span><br/><span class="hl-9">   */</span><br/><span class="hl-1">  </span><span class="hl-0">success</span><span class="hl-1">: </span><span class="hl-8">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-9">/**</span><br/><span class="hl-9">   * El mensaje de la respuesta.</span><br/><span class="hl-9">   */</span><br/><span class="hl-1">  </span><span class="hl-0">message</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-9">/**</span><br/><span class="hl-9">   * El error en caso de que la operación falle.</span><br/><span class="hl-9">   */</span><br/><span class="hl-1">  </span><span class="hl-0">error</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-9">/**</span><br/><span class="hl-9">   * Constructor de la clase serverResponse.</span><br/><span class="hl-9">   * </span><span class="hl-4">@param</span><span class="hl-9"> </span><span class="hl-0">success</span><span class="hl-9"> Indica si la operación fue exitosa o no.</span><br/><span class="hl-9">   * </span><span class="hl-4">@param</span><span class="hl-9"> </span><span class="hl-0">message</span><span class="hl-9"> El mensaje de la respuesta.</span><br/><span class="hl-9">   * </span><span class="hl-4">@param</span><span class="hl-9"> </span><span class="hl-0">error</span><span class="hl-9"> El error en caso de que la operación falle.</span><br/><span class="hl-9">   */</span><br/><span class="hl-1">  </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-0">success</span><span class="hl-1">: </span><span class="hl-8">boolean</span><span class="hl-1">, </span><span class="hl-0">message</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">, </span><span class="hl-0">error</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">success</span><span class="hl-1"> = </span><span class="hl-0">success</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1"> = </span><span class="hl-0">message</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1"> = </span><span class="hl-0">error</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ol start="6">
<li>Uso de promesas: Se emplea el uso de promesas para manejar operaciones asíncronas, como la lectura y escritura de archivos, y las operaciones de base de datos simuladas. Esto ayuda a evitar el anidamiento excesivo de callbacks y a escribir un código más legible y mantenible.</li>
</ol>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:magic-app" class="tsd-anchor"></a><h2><a href="#md:magic-app">Magic App</a></h2><p>Al igual que en la anterior práctica se tuvo que modificar la clase cardCollection mientras que la clase car se mantuvo intacta.</p>
<a id="md:clase-card" class="tsd-anchor"></a><h3><a href="#md:clase-card">Clase Card</a></h3><p>La clase <em>Card</em> representa una carta del juego Magic: The Gathering y tiene las siguientes opciones de diseño:</p>
<p>Esta clase no ha sufrido ningún cambio.</p>
<ul>
<li><strong>Constructor</strong>: La clase tiene propiedades públicas que representan las características de una carta, como su ID, nombre, coste de mana, color, tipo, rareza, reglas, poder y resistencia (solo para <em>CRIATURAS</em>), lealtad (solo para <em>PLANESWALKERS</em>) y valor. Estas propiedades se inicializan en el constructor y son accesibles desde fuera de la clase. También cuenta con la <strong>validación de atributos específicos</strong> como lo son el poder y la resistencia para las <em>CRIATURAS</em>, o la lealtad para los <em>PLANESWALKERS</em></li>
</ul>
<pre><code class="language-ts"><span class="hl-9">/**</span><br/><span class="hl-9"> * Constructor de la clase Card.</span><br/><span class="hl-9"> * </span><span class="hl-4">@param</span><span class="hl-9"> </span><span class="hl-0">id</span><span class="hl-9"> El ID de la carta.</span><br/><span class="hl-9"> * </span><span class="hl-4">@param</span><span class="hl-9"> </span><span class="hl-0">name</span><span class="hl-9"> El nombre de la carta.</span><br/><span class="hl-9"> * </span><span class="hl-4">@param</span><span class="hl-9"> </span><span class="hl-0">mana</span><span class="hl-9"> El coste de mana de la carta.</span><br/><span class="hl-9"> * </span><span class="hl-4">@param</span><span class="hl-9"> </span><span class="hl-0">cardColor</span><span class="hl-9"> El color de la carta.</span><br/><span class="hl-9"> * </span><span class="hl-4">@param</span><span class="hl-9"> </span><span class="hl-0">cardType</span><span class="hl-9"> El tipo de la carta.</span><br/><span class="hl-9"> * </span><span class="hl-4">@param</span><span class="hl-9"> </span><span class="hl-0">cardRarity</span><span class="hl-9"> La rareza de la carta.</span><br/><span class="hl-9"> * </span><span class="hl-4">@param</span><span class="hl-9"> </span><span class="hl-0">rules</span><span class="hl-9"> Las reglas de la carta.</span><br/><span class="hl-9"> * </span><span class="hl-4">@param</span><span class="hl-9"> </span><span class="hl-0">powerAndResistance</span><span class="hl-9"> El poder y resistencia de la carta (solo para criaturas).</span><br/><span class="hl-9"> * </span><span class="hl-4">@param</span><span class="hl-9"> </span><span class="hl-0">loyalty</span><span class="hl-9"> La lealtad de la carta (solo para planeswalkers).</span><br/><span class="hl-9"> * </span><span class="hl-4">@param</span><span class="hl-9"> </span><span class="hl-0">value</span><span class="hl-9"> El valor de la carta.</span><br/><span class="hl-9"> */</span><br/><span class="hl-2">constructor</span><span class="hl-1">(</span><br/><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">id</span><span class="hl-1">: </span><span class="hl-0">number</span><span class="hl-1">,</span><br/><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">name</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1">,</span><br/><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">mana</span><span class="hl-1">: </span><span class="hl-0">number</span><span class="hl-1">,</span><br/><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">cardColor</span><span class="hl-1">: </span><span class="hl-0">CardColor</span><span class="hl-1">,</span><br/><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">cardType</span><span class="hl-1">: </span><span class="hl-0">CardType</span><span class="hl-1">,</span><br/><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">cardRarity</span><span class="hl-1">: </span><span class="hl-0">CardRarity</span><span class="hl-1">,</span><br/><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">rules</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1">,</span><br/><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">powerAndResistance</span><span class="hl-1">: [</span><span class="hl-0">number</span><span class="hl-1">, </span><span class="hl-0">number</span><span class="hl-1">] | </span><span class="hl-4">null</span><span class="hl-1">,</span><br/><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">loyalty</span><span class="hl-1">: </span><span class="hl-0">number</span><span class="hl-1"> | </span><span class="hl-4">null</span><span class="hl-1">,</span><br/><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-0">number</span><span class="hl-1">,</span><br/><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> = </span><span class="hl-0">id</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">name</span><span class="hl-1"> = </span><span class="hl-0">name</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">mana</span><span class="hl-1"> = </span><span class="hl-0">mana</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardColor</span><span class="hl-1"> = </span><span class="hl-0">cardColor</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardType</span><span class="hl-1"> = </span><span class="hl-0">cardType</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardRarity</span><span class="hl-1"> = </span><span class="hl-0">cardRarity</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardType</span><span class="hl-1"> === </span><span class="hl-0">CardType</span><span class="hl-1">.</span><span class="hl-6">CREATURE</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">powerAndResistance</span><span class="hl-1"> === </span><span class="hl-4">null</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">throw</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">Error</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;Una carta del tipo CRIATURA debe de tener asociada un atributo de fuerza/resistencia.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">powerAndResistance</span><span class="hl-1"> = </span><span class="hl-0">powerAndResistance</span><span class="hl-1">;</span><br/><span class="hl-1">  } </span><span class="hl-5">else</span><span class="hl-1"> </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardType</span><span class="hl-1"> === </span><span class="hl-0">CardType</span><span class="hl-1">.</span><span class="hl-6">PLANESWALKER</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">loyalty</span><span class="hl-1"> === </span><span class="hl-4">null</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">throw</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-2">Error</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;Una carta del tipo PLANESWALKER debe de tener asociada un atributo de lealtad.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">loyalty</span><span class="hl-1"> = </span><span class="hl-0">loyalty</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1"> = </span><span class="hl-0">value</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li><strong>Método de representación de atributos</strong>: la clase proporciona un método <em>attributes()</em> que devuelve una cadena con todas las características de la carta formateadas. Este método utiliza el paquete <em>chalk</em> para resaltar el color del texto en función del color de la carta.</li>
</ul>
<pre><code class="language-ts"><span class="hl-9">/**</span><br/><span class="hl-9"> * Método que devuelve una representación en cadena de las características de la carta.</span><br/><span class="hl-9"> * </span><span class="hl-4">@returns</span><span class="hl-9"> Una cadena que contiene las características de la carta.</span><br/><span class="hl-9"> */</span><br/><span class="hl-2">attributes</span><span class="hl-1">(): </span><span class="hl-0">string</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-0">attributes</span><span class="hl-1"> = </span><span class="hl-3">&quot;Card Attributes:</span><span class="hl-10">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-3">`ID: </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-11">.</span><span class="hl-0">id</span><span class="hl-4">}</span><span class="hl-10">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Name: </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-11">.</span><span class="hl-0">name</span><span class="hl-4">}</span><span class="hl-10">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Mana: </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-11">.</span><span class="hl-0">mana</span><span class="hl-4">}</span><span class="hl-10">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Color: `</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardColor</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-0">CardColor</span><span class="hl-1">.</span><span class="hl-6">WHITE</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-2">white</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-10">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-0">CardColor</span><span class="hl-1">.</span><span class="hl-6">BLUE</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-2">blue</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-10">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-0">CardColor</span><span class="hl-1">.</span><span class="hl-6">BLACK</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-2">black</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-10">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-0">CardColor</span><span class="hl-1">.</span><span class="hl-6">RED</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-2">red</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-10">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-0">CardColor</span><span class="hl-1">.</span><span class="hl-6">GREEN</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-2">green</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-10">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-0">CardColor</span><span class="hl-1">.</span><span class="hl-6">COLORLESS</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-2">gray</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-10">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-0">CardColor</span><span class="hl-1">.</span><span class="hl-6">MULTICOLORED</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-2">yellow</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-10">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">default</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">cardColor</span><span class="hl-1"> + </span><span class="hl-3">&quot;</span><span class="hl-10">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Type: </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-11">.</span><span class="hl-0">cardType</span><span class="hl-4">}</span><span class="hl-10">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Rarity: </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-11">.</span><span class="hl-0">cardRarity</span><span class="hl-4">}</span><span class="hl-10">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Rules: </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-11">.</span><span class="hl-0">rules</span><span class="hl-4">}</span><span class="hl-10">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">powerAndResistance</span><span class="hl-1"> !== </span><span class="hl-4">null</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Power: </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-11">.</span><span class="hl-0">powerAndResistance</span><span class="hl-11">[</span><span class="hl-7">0</span><span class="hl-11">]</span><span class="hl-4">}</span><span class="hl-3">, Resistance: </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-11">.</span><span class="hl-0">powerAndResistance</span><span class="hl-11">[</span><span class="hl-7">1</span><span class="hl-11">]</span><span class="hl-4">}</span><span class="hl-10">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">loyalty</span><span class="hl-1"> !== </span><span class="hl-4">null</span><span class="hl-1">) </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Loyalty: </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-11">.</span><span class="hl-0">loyalty</span><span class="hl-4">}</span><span class="hl-10">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Value: </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-11">.</span><span class="hl-0">value</span><span class="hl-4">}</span><span class="hl-10">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">attributes</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:clase-cardcollection" class="tsd-anchor"></a><h3><a href="#md:clase-cardcollection">Clase CardCollection</a></h3><p>La clase cardCollection, como se ha comentado anteriormente, sufrió algunos cambios para esta práctica.</p>
<p>Aunque se pedía hacer uso del patrón callback, decidí usar promesas para controlar el flujo del programa, ya que en la pe habíamos modificado ya la práctica para que hiciese uso de las mismas y además como las promesas implementan de por si el patrón callback no vi mayor problema para usarlas.</p>
<p>Otras características importantes de la clase son:</p>
<ul>
<li><p><strong>Métodos de carga y escritura</strong>: La clase tiene dos métodos <em>loadCards()</em> y <em>writeCards()</em> para cargar las cartas desde el archivo y escribir las cartas en el archivo, respectivamente. Estos métodos utilizan la <strong>API asíncrona de Node.js</strong> para trabajar con el sistema de archivos no como la anterior vez que se requería el uso de la API síncrona.</p>
</li>
<li><p><strong>Métodos de interacción con la colección</strong>: Los métodos <em>addCard()</em>, <em>updateCard()</em>, <em>removeCard()</em>, <em>listCards()</em> y <em>showCardInfo()</em> permiten al usuario <strong>agregar</strong>, <strong>actualizar</strong>, <strong>eliminar</strong>, <strong>listar</strong> y <strong>ver</strong> información detallada de las cartas en la colección. Si la función modifica algo de la colección se hace una llamada a <em>writeCards()</em> para guardar el estado de la colección en el .JSON.</p>
</li>
<li><p>Se utilizan promesas rechazadas para manejar diferentes tipos de errores, como la falta de un archivo de colección, un formato JSON inválido o la ausencia de una carta con el ID especificado.</p>
</li>
</ul>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:problemas" class="tsd-anchor"></a><h2><a href="#md:problemas">Problemas</a></h2><p>El servidor se despliega de manera correcta, pero a pesar de haber revisado el código una y otra vez no logro encontrar el error que sucede al usar cualquiera de las operaciones de GET, DELETE y PATCH, si usamos thunder client para probar las operaciones del servidor, solo funcionara la operación de POST para poder añadir una carta a la colección, esta operación crea el JSON, añade la carta al mapa que guarda la colección en la clase y escribe en el JSON. Pero a la hora de usar por ejemplo la operación GET para comprobar si la carta existe o no en la colección nos encontramos con un mensaje de error en que se dice que no existe una carta con ese id en la colección, lo cual no es cierto porque en el JSON se ha escrito la carta.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:ejercicio-pe" class="tsd-anchor"></a><h2><a href="#md:ejercicio-pe">Ejercicio PE</a></h2><p>El ejercicio de la PE consistía en aplicar el uso de promesas sobre la antigua magicAPP que usaba el patron callback. Como las pormesas en si usan el patron callback, no costó demasiado cambiar el uso del patrón callback por el uso de promesas que simplemente usan resolve y reject para manejar los mensajes de éxito o error.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<p><a href="https://www.npmjs.com/package/chalk">Chalk</a>
<a href="https://www.npmjs.com/package/yargs">Yargs</a>
<a href="https://nodejs.org/docs/latest/api/events.html">Events</a>
<a href="https://nodejs.org/docs/latest/api/fs.html">fs</a>
<a href="https://nodejs.org/docs/latest/api/net.html">net</a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:informe-práctica-11---aplicación-express-para-coleccionistas-de-cartas-magic"><span>Informe práctica 11 -<wbr/> <wbr/>Aplicación <wbr/>Express para coleccionistas de cartas <wbr/>Magic.</span></a><ul><li><a href="#md:alejandro-javier-aguiar-pérez"><span>Alejandro <wbr/>Javier <wbr/>Aguiar <wbr/>Pérez</span></a></li><li><a href="#md:índice"><span>Índice</span></a></li><li><a href="#md:resumen"><span>Resumen</span></a></li><li><a href="#md:express"><span>Express</span></a></li><li><a href="#md:thunder-client"><span>Thunder <wbr/>Client</span></a></li><li><a href="#md:servidor"><span>Servidor</span></a></li><li><a href="#md:magic-app"><span>Magic <wbr/>App</span></a></li><li><ul><li><a href="#md:clase-card"><span>Clase <wbr/>Card</span></a></li><li><a href="#md:clase-cardcollection"><span>Clase <wbr/>Card<wbr/>Collection</span></a></li></ul></li><li><a href="#md:problemas"><span>Problemas</span></a></li><li><a href="#md:ejercicio-pe"><span>Ejercicio PE</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>p09-filesystem-magic-app</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>